{"ast":null,"code":"import _toConsumableArray from \"/home/pandi95/Projects/React/blog-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/home/pandi95/Projects/React/blog-frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/pandi95/Projects/React/blog-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/pandi95/Projects/React/blog-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm, getFormValues } from 'redux-form';\nimport SelectionDefault from \"../../components/Form/Selection\";\nimport \"../../../static/Css/owner/owner.css\";\nimport cover from \"../../../static/Image/fcm-cover.jpg\";\nimport { set } from \"../../services/utils/storage\";\nimport { toastify } from \"../../components/Toast/Toastify\";\nimport { getMy as _getMy } from \"../../actions/foodcourt/foodCourtAction\"; // import generateOption from '../../actions/utils/generateOption'\n\nvar generateOption = function generateOption(datas) {\n  var options = [];\n  datas.map(function (value) {\n    return options.push({\n      value: String(value.id),\n      id: String(value.id),\n      label: value.name\n    });\n  });\n  return options;\n};\n\nvar STORAGE = 'owner_foodcourt_selected';\n\nvar SelectFoodCourt = function SelectFoodCourt(_ref) {\n  var invalid = _ref.invalid,\n      loading = _ref.loading,\n      submitting = _ref.submitting,\n      handleSubmit = _ref.handleSubmit,\n      getMy = _ref.getMy,\n      list = _ref.list;\n  var history = useHistory();\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      listFoodcourt = _React$useState2[0],\n      setList = _React$useState2[1];\n\n  React.useEffect(function () {\n    var fetch = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getMy();\n\n              case 2:\n                console.log('MY API ');\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function fetch() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    fetch();\n  }, []);\n  React.useEffect(function () {\n    if (list && list.length > 0) {\n      setList([{\n        value: '',\n        label: '[PILIH FOOD COURT]'\n      }].concat(_toConsumableArray(list)));\n    }\n  }, [list]);\n\n  var onSubmit = function onSubmit(values) {\n    console.log(values);\n\n    if (values && values.id) {\n      set(STORAGE, values.id);\n      history.push('/owner');\n    } else {\n      toastify({\n        type: 'error',\n        message: 'Mohon Pilih Food Court'\n      });\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"row owner-container\"\n  }, __jsx(\"div\", {\n    className: \"col s12 m12 l12 content-select-foodcourt\"\n  }, __jsx(\"div\", {\n    className: \"select-food-court\"\n  }, __jsx(\"img\", {\n    src: cover,\n    alt: \"\",\n    className: \"image\"\n  }), __jsx(\"div\", {\n    className: \"text\"\n  }, \"Terima Kasih Sudah Bergabung Dengan Kami\"), __jsx(\"div\", {\n    className: \"form-selection\"\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit)\n  }, __jsx(\"div\", {\n    className: \"input\"\n  }, __jsx(Field, {\n    id: \"id\",\n    name: \"id\",\n    label: \"Pilih Food Court\",\n    options: listFoodcourt,\n    component: SelectionDefault,\n    className: \"select-foodcourt\"\n  })), __jsx(\"div\", {\n    className: \"button\"\n  }, __jsx(\"button\", {\n    disabled: invalid || submitting || loading,\n    className: \"waves-effect waves-light btn btn-app bg-pimary\"\n  }, \"Lanjut ke Halaman Dashboard\"))))))));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var foodCourt = state.foodCourt;\n  return {\n    values: getFormValues('FormSelectionFoodcourt')(state),\n    list: generateOption(foodCourt.list)\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getMy: function getMy(data) {\n      return dispatch(_getMy(data));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(reduxForm({\n  form: 'FormSelectionFoodcourt'\n})(SelectFoodCourt));","map":null,"metadata":{},"sourceType":"module"}