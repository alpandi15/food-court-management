{"ast":null,"code":"import _toConsumableArray from \"/home/pandi95/Projects/React/blog-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/home/pandi95/Projects/React/blog-frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/pandi95/Projects/React/blog-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/pandi95/Projects/React/blog-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport socketIOClient from 'socket.io-client'; // import { Link } from 'react-router-dom'\n\nimport { Link as LinkScroll } from 'react-scroll';\nimport OrderPreview from \"../../components/OrderPreview\";\nimport SearchInput from \"../../components/Form/SearchInput\";\nimport color from \"../../theme/color\";\nimport Header from \"../../components/Header\";\nimport { getStandMenu as _getStandMenu } from \"../../actions/product/productAction\";\nimport Voucher from \"../../static/Icon/voucher.svg\";\nimport image from \"../../static/Image/food-court.jpg\";\nimport SearchModal from \"./search\";\nvar ENDPOINT = 'http://192.168.3.65:3000';\nvar categories = [{\n  id: 1,\n  name: 'Rekomendasi'\n}, {\n  id: 2,\n  name: 'Minuman'\n}, {\n  id: 3,\n  name: '2 Liter'\n}, {\n  id: 4,\n  name: 'Dessert'\n}, {\n  id: 5,\n  name: '23 Ribu'\n}, {\n  id: 6,\n  name: 'Pedas'\n}, {\n  id: 7,\n  name: 'Ramuan'\n}, {\n  id: 8,\n  name: 'Tongkat Ali'\n}];\nvar products = [{\n  id: 1,\n  categoryId: 1,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 2,\n  categoryId: 1,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 3,\n  categoryId: 1,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 4,\n  categoryId: 1,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 5,\n  categoryId: 1,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 6,\n  categoryId: 1,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 7,\n  categoryId: 2,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 8,\n  categoryId: 2,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 9,\n  categoryId: 2,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 10,\n  categoryId: 3,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 11,\n  categoryId: 3,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 12,\n  categoryId: 3,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 13,\n  categoryId: 4,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 14,\n  categoryId: 4,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 15,\n  categoryId: 4,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 16,\n  categoryId: 5,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 17,\n  categoryId: 5,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 18,\n  categoryId: 5,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}, {\n  id: 19,\n  categoryId: 5,\n  name: 'Classic Milk Tea (S) + Bubble',\n  price: 19000,\n  description: 'Fresh milk tea with bubble'\n}];\n\nvar Menu = function Menu(_ref) {\n  var getStandMenu = _ref.getStandMenu;\n  var params = useParams();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      modal = _React$useState2[0],\n      setModal = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      fav = _React$useState4[0],\n      setFav = _React$useState4[1];\n\n  var _React$useState5 = React.useState([]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      listProduct = _React$useState6[0],\n      setListProduct = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      headerActive = _React$useState8[0],\n      setHeaderActive = _React$useState8[1];\n\n  React.useEffect(function () {\n    window.addEventListener('scroll', function () {\n      if (window.pageYOffset > 250) {\n        setHeaderActive(true);\n      } else {\n        setHeaderActive(false);\n      }\n    });\n\n    var fetch = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var socket;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log('Masuk Effect ', params);\n\n                if (!(params && params.uuid)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                socket = socketIOClient(ENDPOINT);\n                _context.next = 5;\n                return getStandMenu(params.uuid);\n\n              case 5:\n                socket.on(params.uuid, function (data) {\n                  console.log('Socket Data Detail ', data);\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function fetch() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    var groupList = function groupList() {\n      setListProduct(function () {\n        return products.reduce(function (r, a) {\n          r[a.categoryId] = [].concat(_toConsumableArray(r[a.categoryId] || []), [a]);\n          return r;\n        }, []);\n      });\n    };\n\n    fetch();\n    groupList();\n  }, [params.uuid, getStandMenu]);\n\n  var handleFavorite = function handleFavorite() {\n    setFav(!fav);\n  };\n\n  console.log('TER GRUB ', listProduct);\n  return __jsx(React.Fragment, null, __jsx(Header, {\n    transparent: !headerActive,\n    textStyle: {\n      color: color.primaryColor,\n      backgroundColor: color.white,\n      borderRadius: '10px',\n      width: '60px',\n      height: '45px',\n      marginRight: '.5rem'\n    }\n  }, __jsx(SearchInput, {\n    onClick: function onClick() {\n      return setModal(true);\n    },\n    placeholder: \"Cari Menu\",\n    disabled: true\n  })), __jsx(\"div\", {\n    className: \"category \".concat(headerActive ? 'scroll' : '')\n  }, __jsx(\"div\", {\n    className: \"category-wrapper\"\n  }, __jsx(\"ul\", null, categories && categories.map(function (val, index) {\n    return __jsx(\"li\", {\n      key: index\n    }, __jsx(LinkScroll, {\n      to: \"sectionId-\".concat(val.id),\n      activeClass: \"active\",\n      spy: true,\n      smooth: true,\n      duration: 500,\n      offset: -100\n    }, val.name));\n  })))), __jsx(\"div\", {\n    className: \"mobile-layout-content\"\n  }, __jsx(\"div\", {\n    className: \"food-court-image\"\n  }, __jsx(\"img\", {\n    src: image,\n    alt: \"\"\n  })), __jsx(\"div\", {\n    className: \"content\"\n  }, __jsx(\"div\", {\n    className: \"content-header\"\n  }, __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"title\"\n  }, \"Zeribowl\"), __jsx(\"div\", {\n    className: \"sub-title\"\n  }, \"Minuman\")), __jsx(\"div\", null, __jsx(\"div\", {\n    onClick: handleFavorite,\n    className: \"waves-effect favourite-icon \".concat(fav ? 'active' : '')\n  }))), __jsx(\"div\", {\n    className: \"content-body\"\n  }, __jsx(\"div\", {\n    className: \"voucher\"\n  }, __jsx(\"div\", {\n    className: \"voucher-icon\"\n  }, __jsx(\"img\", {\n    className: \"icon-24\",\n    src: Voucher,\n    alt: \"\"\n  })), __jsx(\"div\", null, __jsx(\"span\", null, \"Lihat voucher stand ini\")), __jsx(\"div\", {\n    className: \"button\"\n  }, __jsx(Link, {\n    to: \"/zeribowl/voucher\",\n    className: \"btn btn-app-outline x-small waves-effect\"\n  }, \"Buka\"))), __jsx(\"div\", {\n    className: \"menu\"\n  }, listProduct && listProduct.length !== 0 && listProduct.map(function (val, index) {\n    return __jsx(\"div\", {\n      key: index,\n      className: \"section-content\",\n      id: \"sectionId-\".concat(index)\n    }, __jsx(\"div\", {\n      className: \"category-name\"\n    }, __jsx(\"div\", null, categories.find(function (e) {\n      return e.id === index;\n    }).name)), val.map(function (list, indexL) {\n      return __jsx(\"div\", {\n        className: \"menu-item\",\n        key: indexL\n      }, __jsx(Link, {\n        to: \"/zeribowl/menu/1\"\n      }, __jsx(\"div\", {\n        className: \"menu-wrapper waves-effect\"\n      }, __jsx(\"div\", {\n        className: \"menu-image\"\n      }, __jsx(\"img\", {\n        src: image,\n        alt: \"\"\n      })), __jsx(\"div\", {\n        className: \"menu-desc\"\n      }, __jsx(\"div\", {\n        className: \"menu-name\"\n      }, list.name), __jsx(\"div\", {\n        className: \"menu-short-desc\"\n      }, list.description), __jsx(\"div\", {\n        className: \"menu-price\"\n      }, \"Rp. \".concat(list.price))))));\n    }));\n  }))))), __jsx(OrderPreview, null), __jsx(SearchModal, {\n    open: modal,\n    onHide: setModal\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var standStore = state.standStore;\n  return {\n    loadingData: standStore.loading,\n    currentItem: standStore.currentItem\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getStandMenu: function getStandMenu(id, guard) {\n      return dispatch(_getStandMenu(id, guard));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);","map":null,"metadata":{},"sourceType":"module"}