{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Field, reduxForm, getFormValues } from 'redux-form';\nimport { toastify } from \"../../../components/Toast/Toastify\";\nimport TextInput from \"../../../components/Form/Input\";\nimport cover from \"../../../static/Image/fcm-cover.jpg\";\nimport { registerUser } from \"../../../actions/auth/authAction\";\n\nconst validate = ({\n  name,\n  username,\n  phone,\n  email,\n  password,\n  confirm_password\n}) => {\n  const error = {\n    email: !email ? '*Required' : !/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[A-Za-z]{2,4}$/.test(email) ? 'Use email format' : email.length > 50 ? 'Username Max 50 Character' : undefined,\n    phone: !phone ? '*Required' : !/^[+0-9]+[0-9]+$/.test(phone) ? 'Use phone number format' : phone.length < 10 ? 'Min 10 Character' : phone.length > 15 ? 'Max 15 Character' : undefined,\n    password: !password ? '*Required' : password.length < 6 ? 'Password Min 6 Character' : password.length > 50 ? 'Password Max 50 Character' : undefined,\n    confirm_password: !confirm_password ? '*Required' : confirm_password !== password ? 'Password tidak sama' : confirm_password.length > 50 ? 'Password Max 50 Character' : undefined,\n    username: !username ? '*Required' : username.length < 3 ? 'Username Min 3 Character' : undefined,\n    name: !name ? '*Required' : name.length < 3 ? 'Name Min 3 Character' : undefined\n  };\n  return error;\n};\n\nconst Register = ({\n  invalid,\n  loading,\n  submitting,\n  handleSubmit,\n  registerUser\n}) => {\n  const history = useHistory();\n\n  const onSubmit = async values => {\n    console.log('Values ', values);\n    const result = await registerUser({\n      name: values.name,\n      phone: values.phone,\n      email: values.email,\n      username: values.username,\n      password: values.password,\n      roleId: 3 // owner\n\n    });\n\n    if (result.success) {\n      toastify({\n        type: 'success',\n        message: 'Register success, silahkan masuk untuk melanjutkan proses'\n      });\n      history.push('/owner/login');\n    } else {\n      toastify({\n        type: 'error',\n        message: result.message\n      });\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"row owner-container\"\n  }, __jsx(\"div\", {\n    className: \"col s12 m7 l7 cover-image\"\n  }, __jsx(\"img\", {\n    className: \"image\",\n    src: cover,\n    alt: \"\"\n  })), __jsx(\"div\", {\n    className: \"col s12 m5 l5 content\"\n  }, __jsx(\"h4\", null, \"Bergabung Sekarang\"), __jsx(\"p\", null, \"Segera daftarkan foodcourt kamu, dan segera bergabung bersama kami dalam meningkatkan pelayanan foodcourt kamu\"), __jsx(\"div\", {\n    className: \"form-content\"\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit)\n  }, __jsx(Field, {\n    id: \"name\",\n    name: \"name\",\n    label: \"Nama Lengkap\",\n    type: \"text\",\n    component: TextInput\n  }), __jsx(Field, {\n    id: \"email\",\n    name: \"email\",\n    label: \"Email\",\n    type: \"email\",\n    component: TextInput\n  }), __jsx(Field, {\n    id: \"username\",\n    name: \"username\",\n    label: \"Username\",\n    type: \"text\",\n    component: TextInput\n  }), __jsx(Field, {\n    id: \"phone\",\n    name: \"phone\",\n    label: \"Nomor Telepon (Opsional)\",\n    type: \"text\",\n    component: TextInput\n  }), __jsx(Field, {\n    id: \"password\",\n    name: \"password\",\n    label: \"Kata Sandi\",\n    type: \"password\",\n    component: TextInput\n  }), __jsx(Field, {\n    id: \"confirm_password\",\n    name: \"confirm_password\",\n    label: \"Konfirmasi Kata Sandi\",\n    type: \"password\",\n    component: TextInput\n  }), __jsx(\"div\", {\n    className: \"button-login\"\n  }, __jsx(\"button\", {\n    disabled: invalid || submitting || loading,\n    className: \"waves-effect waves-light btn btn-app bg-pimary\"\n  }, \"Daftar\"), __jsx(\"div\", {\n    className: \"forgot-password\"\n  }, __jsx(\"span\", null, \"Sudah punya akun ? \"), __jsx(Link, {\n    to: \"/owner/login\",\n    className: \"color-primary waves-effect\"\n  }, \"Silahkan Masuk\"))))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    values: getFormValues('FormRegisterOwner')(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  registerUser: data => dispatch(registerUser(data))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(reduxForm({\n  form: 'FormRegisterOwner',\n  validate\n})(Register));","map":null,"metadata":{},"sourceType":"module"}