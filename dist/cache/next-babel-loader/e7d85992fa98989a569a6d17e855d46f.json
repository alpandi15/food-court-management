{"ast":null,"code":"import _slicedToArray from \"/home/pandi95/Projects/React/blog-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport QrReader from 'react-qr-reader';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'react-materialize';\nimport Header from \"../../components/Header\";\nimport Modal from \"../../components/Modal\";\nimport image from \"../../static/Image/Camera.png\";\n\nvar ScanQr = function ScanQr() {\n  var _React$useState = React.useState('No result'),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      data = _React$useState2[0],\n      setData = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      modal = _React$useState4[0],\n      setModal = _React$useState4[1];\n\n  var _React$useState5 = React.useState('environment'),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      cameraMode = _React$useState6[0],\n      setCameraMode = _React$useState6[1];\n\n  var handleModal = function handleModal(status) {\n    setModal(status);\n  };\n\n  var handleCameraMode = function handleCameraMode() {\n    if (cameraMode === 'environment') {\n      setCameraMode('user');\n    } else {\n      setCameraMode('environment');\n    }\n\n    console.log('Switch ', cameraMode);\n  };\n\n  var handleScan = function handleScan(data) {\n    // alert(data)\n    if (data) {\n      setData(data);\n    }\n  };\n\n  var handleError = function handleError(err) {\n    // alert('Error ', err)\n    console.error('Ini Error', err);\n    handleModal(true);\n  };\n\n  var onLoad = function onLoad(status) {\n    console.log('Loaded ', status);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Header, {\n    transparent: true\n  }), __jsx(\"div\", {\n    className: \"mobile-layout-content scan-qr\"\n  }, __jsx(\"div\", {\n    className: \"scanner-wrapper\"\n  }, __jsx(QrReader, {\n    legacyMode: false,\n    delay: 1000,\n    onError: handleError,\n    onScan: handleScan,\n    onLoad: onLoad,\n    facingMode: cameraMode,\n    resolution: 600 // style={{ width: '100%' }}\n    ,\n    className: \"qrcode-scanner\"\n  }), __jsx(\"div\", {\n    className: \"switch-camera\"\n  }, __jsx(\"button\", {\n    className: \"btn-flat waves-effect\",\n    onClick: function onClick() {\n      return handleCameraMode();\n    }\n  }, __jsx(\"i\", {\n    className: \"material-icons\"\n  }, \"camera_front\")))), __jsx(\"div\", {\n    className: \"content\"\n  }, __jsx(\"div\", {\n    className: \"fixed-button\"\n  }, __jsx(\"div\", {\n    className: \"result\"\n  }, data), __jsx(\"div\", {\n    className: \"button-login\"\n  }, __jsx(Link, {\n    to: \"/scan-manual\",\n    className: \"waves-effect waves-light btn btn-app bg-grey\"\n  }, \"Masukkan ID Manual\"), __jsx(\"div\", {\n    className: \"forgot-password\"\n  }, __jsx(\"span\", null, \"Tidak bisa scan kode QR? Silahkan masukkan ID secara manual\")))))), __jsx(Modal, {\n    open: modal,\n    onCloseStart: handleModal,\n    id: \"ModalInformasi\",\n    className: \"modal-app\",\n    footerContent: __jsx(Button, {\n      className: \"waves-effect waves-light btn btn-app\",\n      modal: \"close\",\n      node: \"button\",\n      style: {\n        color: 'red !important'\n      }\n    }, \"Tutup Halaman\")\n  }, __jsx(\"div\", {\n    className: \"modal-center-custom\"\n  }, __jsx(\"div\", {\n    className: \"modal-header\"\n  }, __jsx(\"img\", {\n    src: image,\n    alt: \"\"\n  })), __jsx(\"div\", {\n    className: \"modal-body\"\n  }, \"Device Kamera kamu tidak dapat di akses atau tidak terdeteksi, silahkan masukkan ID Manual\"))));\n};\n\nexport default ScanQr;","map":null,"metadata":{},"sourceType":"module"}